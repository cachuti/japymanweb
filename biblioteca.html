<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Box Zone Film</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { 
      background: #000; 
      color: #fff; 
      font-family: 'Roboto', sans-serif; 
      margin: 0; 
      padding: 0; 
    }
    header { 
      text-align: center; 
      padding: 20px; 
      font-size: 24px; 
      font-weight: bold; 
    }
    /* Slider */
    .slider { 
      width: 100%; 
      max-height: 300px; 
      overflow: hidden; 
      position: relative; 
    }
    .slides { 
      display: flex; 
      transition: transform 0.5s ease-in-out; 
    }
    .slides img { 
      width: 100%; 
      object-fit: cover; 
    }
    /* Grid de películas */
    .grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); 
      gap: 10px; 
      padding: 10px; 
    }
    .item { 
      background: #111; 
      border-radius: 8px; 
      overflow: hidden; 
      text-align: center; 
      cursor: pointer; 
      transition: transform 0.2s; 
    }
    .item:hover { 
      transform: scale(1.05); 
    }
    .item img { 
      width: 100%; 
      height: 200px; 
      object-fit: cover; 
    }
    .item p { 
      margin: 5px 0; 
      font-size: 14px; 
    }
  </style>
</head>
<body>
  <header>🎬 Box Zone Film</header>

  <!-- Slider -->
  <div class="slider">
    <div class="slides" id="slider"></div>
  </div>

  <!-- Grid de películas -->
  <div class="grid" id="peliculas"></div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script>
    // Configuración Firebase (la tuya)
    const firebaseConfig = {
      apiKey: "AIzaSyD6Tj5S2TvV_k8jq0P4ET_Mxo_YgoWtBwo",
      authDomain: "chunito-d25bb.firebaseapp.com",
      projectId: "chunito-d25bb",
      storageBucket: "chunito-d25bb.firebasestorage.app",
      messagingSenderId: "748622352005",
      appId: "1:748622352005:web:f9ea6d2da8af92f76123ec",
      measurementId: "G-DC3XNLCX9Z",
      databaseURL: "https://chunito-d25bb-default-rtdb.firebaseio.com/"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // SLIDER (nodo "slider")
    const sliderRef = db.ref("slider");
    sliderRef.on("value", snapshot => {
      const slider = document.getElementById("slider");
      slider.innerHTML = "";
      snapshot.forEach(child => {
        const data = child.val();
        const img = document.createElement("img");
        img.src = data.imagen;
        img.alt = data.titulo || "Slider";
        slider.appendChild(img);
      });
    });

    // PELÍCULAS (nodo "box-zone-estrenos")
    const pelisRef = db.ref("box-zone-estrenos");
    pelisRef.on("value", snapshot => {
      const grid = document.getElementById("peliculas");
      grid.innerHTML = "";
      snapshot.forEach(child => {
        const data = child.val();
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <img src="${data.imagen}" alt="${data.titulo}">
          <p>${data.titulo}</p>
        `;
        div.onclick = () => window.open(data.enlace, "_blank");
        grid.appendChild(div);
      });
    });
  </script>
</body>
</html>
